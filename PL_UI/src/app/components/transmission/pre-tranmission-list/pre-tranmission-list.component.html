<app-header-breadcrumb [title]="'PRE-TRANSMISSION LIST'" [items]="['Transmission']" [showAddNew]="false" [showExport]="false"
 [active_item]="'Pre-Transmission List'"></app-header-breadcrumb>

 <div class="card"  [(ngbCollapse)]="isClosed8">
    <div class="card-header ">
        <h3 class="card-title ">Pre-Transmission List</h3>
        <div class="card-options">
            <a href="javascript:;" class="card-options-collapse" (click)="Collapsetoggle8()"
                [attr.aria-expanded]="!isCollapsed8">
                <i class="fe fe-chevron-{{ !isCollapsed8 ? 'up' : 'down'}}"></i>
            </a>
        </div>
    </div>
    <div class="card-body p-2" [(ngbCollapse)]="isCollapsed8">
        <form [formGroup]="entryForm">
            <div class="row">
             
                <div class="col-sm-6 col-md-3">
                    <div class="form-group">
                        <label class="form-label">Result Month<span class="text-red">*</span></label>
                        <input type="text" class="form-control"   [readOnly]="true"
                        formControlName="ResultMonth" />
                        <div *ngIf="submitted && f.ResultMonth.errors" class="text-danger">
                            <div *ngIf="f.ResultMonth.errors.required">Please enter Month
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-sm-6 col-md-3">
                    <div class="form-group">
                        <label class="form-label">Period From</label>
                        <input type="text" class="form-control"  [readOnly]="true"
                        formControlName="PeriodFrom" />
                    </div>
                </div>
                <div class="col-sm-6 col-md-3">
                    <div class="form-group">
                        <label class="form-label">Period To</label>
                        <input type="text" class="form-control" [readOnly]="true"
                        formControlName="PeriodTo" />
                    </div>
                </div>
                <div class="col-sm-6 col-md-2">
                    <div class="form-group ">
                        <div class="form-label">Type <span class="text-red">*</span></div>
                        <div class="custom-controls-stacked">
                            <label class="custom-control custom-radio" >
                                <input type="radio" class="custom-control-input"  name="Type" value="Monthly" (change)="onChangeType()"
                                    checked formControlName="Type">
                                <span class="custom-control-label">Monthly</span>
                            </label>
                            <label class="custom-control custom-radio">
                                <input type="radio" class="custom-control-input" name="Type" value="BP"
                                (change)="onChangeType()"  formControlName="Type">
                                <span class="custom-control-label">BP</span>
                            </label>
                            <div *ngIf="submitted && f.Type.errors" class="text-danger">
                                <div *ngIf="f.Type.errors.required">Please select Type
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-md-1">
                    <label class="form-label"></label>
                    <button [disabled]="loading" class="btn  btn-indigo pull-right mt-5" type="button" (click)="onSave()"
                        [style.pointer-events]="loading?'none':''">
                        <i class="fe fe-check" *ngIf="!loading"> </i>
                        <i class="fa fa-spinner fa-spin" *ngIf="loading"> </i>
                        &nbsp; {{loading? 'Submitting' : 'Pre-Transmit'}} &nbsp;
                    </button>
                   
                </div>
            </div>

            <div class="row">
                <div class="col-sm-6 col-md-12">
                <dx-data-grid id="grid" [dataSource]="dataList" 
                columnResizingMode="widget" [allowColumnResizing]="true" 
                [showBorders]="true" (onSelectionChanged)="selectionChanged($event)">
                <dxo-selection [selectAllMode]="allMode" showCheckBoxesMode="always" mode="multiple">
                </dxo-selection>
                <dxo-filter-row [visible]="true"></dxo-filter-row>
                <dxo-paging [pageSize]="20"></dxo-paging>
                <dxo-scrolling columnRenderingMode="virtual"></dxo-scrolling>
                <dxo-pager [showPageSizeSelector]="true" [allowedPageSizes]="[10, 25, 50, 100]"></dxo-pager>
                <dxo-search-panel [visible]="true" [highlightCaseSensitive]="true"></dxo-search-panel>
                <dxi-column  dataField="customerCode"
                    caption="Customer Code"></dxi-column>
                <dxi-column  dataField="customerName"
                    caption="Customer Name"></dxi-column>
                <dxo-toolbar>
                    <dxi-item name="exportButton"></dxi-item>
                   
                    <dxi-item name="searchPanel"></dxi-item>
                </dxo-toolbar>

            </dx-data-grid>
                </div>
            </div>
        </form>
    </div>
</div>

